<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <h1 id="mainHeaderPanel">wlcome</h1>
    <p id="mainInfoPanel">Hello world</p>
    <p id="infoPanel">Hello world</p>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>


    <script type="text/javascript">
      console.log("Hello world")
let tg = window.Telegram.WebApp;




//g.initData //получаем данные от пользователя в виде строки (работает только при запуске из меню команд бота).
//tg.initDataUnsafe // получаем данные от пользователя в виде объекта (работает только при запуске из меню команд бота).
 // возвращает true, если приложение открыто на всю высоту, false - если нет.
console.log(tg.viewportHeight) // вернёт ширину окна.
//tg.sendData("Hello") // отправляет данные  боту в строковом виде, после чего закрывает приложение (работает только если приложение запущено с keyboard button).


window.addEventListener('load', (event) => {
  console.log('page is fully loaded');
  tg.expand()
  // tg.close() // метод закрывает приложение.

  tg.MainButton.text = 'Attack!' // текст кнопки, по умолчанию: "Continue"
  // tg.MainButton.color // цвет текста
  // tg.MainButton.textColor // цвет подложки
  // tg.MainButton.isVisible // видна ли кнопка (по умолчанию false)
  tg.MainButton.isActive // активна ли кнопка (по умолчанию true)

  tg.MainButton.onClick(testingMainButton) // метод при нажатии на кнопку
  tg.MainButton.enable() // сделать активной
  tg.MainButton.show() // показать кнопку
  // tg.MainButton.hide() // скрыть кнопку

  // tg.MainButton.disable() // сделать неактивной
  // tg.MainButton.setParams(params) // задает параметры в виде объекта

//  tg.expand()// метод позволяет растянуть окно на всю высоту.
});


var testingMainButton = () => {
  console.log("Oh yeahhh")
  document.getElementById("mainHeaderPanel").textContent = "big error"
  tg.MainButton.setText("Danger is near..") //  метод для задания текста
}



    </script>
  </body>
</html>
